# Copyright (c) 2024 by @Cromha
#
# Bane Of Wargs is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Bane Of Wargs is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License along with
# this program. If not, see <https://www.gnu.org/licenses/>.

Start Dialog:
  conversation:
    - label 1:
      - "print(You're a lumberjack who lives in a small village in the Forlindon Woods, a quiet place to live. You've always wondered what's after this quiet forest; because your little village is a small town that lives apart from the other great cities in the Stall Island. You've heard some stories and tales about the rest of the world. Only some words come to your mind when you hear “the world”: dragons, gold, elves, dwarfs, great mountains, adventure...)"
      - print(You currently have a order to deliver to a friend of yours, at the -62, 59 coordinates.)
      - "print(Hint: check the gameplay guide at https://github.com/Dungeons-of-Kathallion/Bane-Of-Wargs/wiki/Gameplay-Guide)"
  use actions: false

Deliver Raw Wood To Jacky Completed:
  conversation:
    - label 1:
      - print(You arrive to the house of your friend Jack. You knock on his doors...)
      - wait(4)
      - print(The doors finally opens, and you greet Jacky.)
      - print(“Hey Jacky! I'm here to deliver you the 2 bags of raw wood you've ordered me.” You say.)
      - print(“Hi! Thanks for the deliver! How many gold do you want me to pay you?” Jacky says.)
      - goto(label 2)
    - label 2:
      - choice():
        - create-choice(10 gold coins, goto(label 3))
        - create-choice(20 gold coins, goto(label 4))
        - create-choice(25 gold coins, goto(label 5))
        - create-choice(45 gold coins, goto(label 6))
    - label 3:
      - print(“10 gold coins? Thanks, I'm really grateful! Here's 10 gold coins.”)
      - create-variable(gold_augmentation, 10)
    - label 4:
      - print(“20 gold coins? What a nice price, thanks! Here's 20 gold coins.”)
      - create-variable(gold_augmentation, 20)
    - label 5:
      - print(“25 gold coins? Seems fair. Here's 25 gold coins.”)
      - create-variable(gold_augmentation, 25)
    - label 6:
      - print(“45 gold coins?! Are you crazy?! I'm not paying 45 fucking gold coins for 2 bags of raw wood!”)
      - goto(label 2)
  use actions: true
  actions:
    add attributes:
    - has finished jacky deliver
    remove item:
    - Raw Wood
    - Raw Wood
    gold modification:
      augmentation: $gold_augmentation

Cut Wood And Get Back Home Offer:
  conversation:
    - label 1:
      - print(Now, go to -61, 56 to cut some wood and go back home at -61, 57 to get some sleep.)
  use actions: true
  actions:
    add attributes:
    - has mission cut wood and get back home offered

Cut Wood And Get Back Home Stopover:
  to display:
    player attributes:
    - has mission cut wood and get back home offered
  conversation:
    - label 1:
      - print(Let's cut some wood now...)
      - wait(30)
      - print(1 or 2 hours after...)
  use actions: false
  scene: Forlindon Woods

Cut Wood And Get Back Home Complete:
  conversation:
    - label 1:
      - print(Now that you're at home, you can get some sleep and rest...)
      - wait(60)
      - print(A few hours after...)
  use actions: true
  actions:
    use drink:
    - Green Elixir

Heard Someone Shouting In The Woods:
  conversation:
    - label 1:
      - print(You're walking in the woods when you hear some noise around you. The sound seems to come from the south.)
      - wait(2)
      - print(You listen and you can hear “HELP!!!”, “HELP!!!”. You need to help the man!)
  use actions: true
  actions:
    add attributes:
    - heard someone shouting in the woods

Encounter Warg Attacking A Guy:
  to display:
    player attributes:
    - heard someone shouting in the woods
  conversation:
    - label 1:
      - print(You see the man who shouted sooner! He's being attacked by a warg! Fight the warg and save the man!)
  use actions: false

Saved The Guy In The Woods:
  conversation:
    - label 1:
      - print(“Thanks man! You saved my life! How could I thank you?”)
      - choice():
        - create-choice(“Have you got any gold on you?“, goto(label 2))
        - create-choice(“Have you got any valuable item on you?“, goto(label 3))
    - label 2:
      - print(“Sure! Here's 45 gold coins! Here's also a map!”)
      - create-variable(payment, 45)
    - label 3:
      - print(“I have a magic map, here it is!”)
      - create-variable(payment, 0)
  use actions: true
  actions:
    add attributes:
    - has saved the guy in the forlindon woods
    give item:
    - Forlindon Woods Map
    gold modification:
      augmentation: $payment

Goro Mounts Mines Dungeon Reward:
  conversation:
    - label 1:
      - print(You've completed the Goro Mounts Mines Dungeon, brave hero!)
  use actions: true
  actions:
    add attributes:
    - completed goro mounts mines dungeon

Gerud Ancient Dungeon Reward:
  conversation:
    - label 1:
      - print(You've completed the Gerud Ancient Dungeon, brave hero!)
  use actions: true
  actions:
    add attributes:
    - completed gerud ancient dungeon
    health modification:
      augmentation: 999

Found Dog Mitchell:
  conversation:
    - label 1:
      - print(While you walk into the Los Gerudos grand avenue, and admire the sea, visible from a long distance, you hear a noise, coming from behind you. You slowly turn behind. You find a dog; he must have followed you since you've left that little juwelery store. He must have been lost by his dear owners!)
      - print(You decide to take a look...)
      - wait(2)
      - "print(You found a golden collar on his neck, with inscribed letters on it. It says: “Mitchell - property of the Coopers; Please return this dog if you find him at the 13 Yasward Drive, Los Gerudos“. The dog looks at you with big eyes, seeming like he wants you to take him back to its owners.\n)"
  use actions: false

Given Back Dog Mitchell:
  conversation:
    - label 1:
      - print(You finally arrive to the 13 Yasward Drive, Los Gerudos, the village of the Coopers. You knock at the door.)
      - wait(2)
      - print(A bulter finally opens the great doors, and greets you, before asking who you are and what do you want. You explain to him everything, before showing him the dog. Suddently, the bulter shouts:)
      - print(“Mrs. Cooper! We've found Mitchell back!“\n)
      - wait(1)
      - print(A chubby lady suddently goes down the main stairs, running towards the opened doors.)
      - print(“Mitchell! Oh my godness! Finally! you're here! Where did you find him bulter?“, says the chubby lady.)
      - print(“Actually it's me who've found him, in the grand avenue. I read his collar and then I came here.“, you respond to her.)
      - print(“What is your name? I'm so grateful, and I couldn't be more.“)
      - print(“My name is $name, and I'm from the Ayar Town, in the far Forlindon Woods. But I'm pretty much sure you haven't heard of this place before.“)
      - print(“The Forlindon Woods? That is where I used to live, when I was a little girl! But then my dad bought a ranch there. What can I do for you? Is there anything you'd like to have?“, the lady asks)
      - print(“Please, I dind't do much.“)
      - print(“You didn't do much? You've saved my dear love! Please, accept these two ingots.“)
      - print(She holds in here hands two gold ingots, that must be worth 1,000 gold coins. It'd be difficult to refuse that.\n)
      - choice():
        - create-choice(Accept the payment., goto(label 2))
        - create-choice(Refuse the payment., goto(label 3))
    - label 2:
      - print(You take the two ingots and store them into your bag. The chubby lad then hugs you and kisses you before you leave.)
      - create-variable(gold_payment, 1025)
    - label 3:
      - print(You kiss the chubby lady's hand, before leaving.)
      - create-variable(gold_payment, 0)
  use actions: true
  actions:
    add to diary:
      known npcs:
      - Marry Joselina
    gold modification:
      augmentation: $gold_payment
    add attributes:
    - given back mitchell the dog

Wanted Bandit Introduction:
  conversation:
    - label 1:
      - print(As you walk next to the grand avenue, you see the Los Gerudos Prison a few dozen of feet away. You can see sheets on a wall, with inscriptions on it. They seem interesting, maybe it's for some paid job?)
      - choice():
        - create-choice(Walk towards the sheets, goto(label 2))
        - create-choice(Ignore them and continue walking, wait(0))
    - label 2:
      - "print(You then decide to approach the sheets. You walk a few feet long and arrive to the wall. One of the sheets' inscription reads: “WANTED -- 'The Dagger' -- Dead or alive; 465 gold units“.)"
      - print(You decide to go to the sheriff and ask him about the job. He first says to you a little more piece of information about it:)
      - print(“A bandint known as 'The Dagger' has murdered one of the Los Gerudos prince 2 months ago. I arrested him and placed him in the Los Gerudos prison. Two das ago, he found a way to dig a hole in his cell's walls and he escaped the prison. Some citizens said having seen him going near the south-western Los Gerudos at the Gerud Forges.“)
      - choice():
        - create-choice(“Why can't you do it yourself?“, goto(label 3))
        - create-choice(“Can I take care of this mission?“, goto(label 4))
    - label 3:
      - print(“As a sheriff of the Los Gerudos city, I've got plenty of missions who're more important than this 'Dagger'! Now get the hell outta here if you're trying to mess with me!“)
    - label 4:
      - print(“Of course my guy! I'd really much appreciate your help! Come back here when you've found him! Good luck!“)
  use actions: false

Wanted Bandit Complete:
  conversation:
    - label 1:
      - print(You go see the sheriff and tells him about everything.)
      - print(“Great! That's amazing! Here's 465 gold coins. Have a nice day!“)
  use actions: true
  actions:
    add to diary:
      known npcs:
      - Los Gerudos Sheriff
    add attributes:
    - finished wanted bandint mission

Wanted Bandit Killed:
  conversation:
    - label 1:
      - print(You've found the bandint but you've killed him! You guess it's fine for the sheriff...)
  use actions: true
  actions:
    add attributes:
    - found bandit
